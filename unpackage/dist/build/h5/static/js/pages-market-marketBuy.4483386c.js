(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-market-marketBuy"],{"01e2":function(e,t,i){"use strict";var n=i("4ea4");i("99af"),i("e25e"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var a=n(i("1da1")),o={data:function(){return{type:null,checked:!1,nameKey:"",number:1,cover:"",name:"",price:"",id:null,payList:[],active:1,pay_password:"",status:0,statusText:"",end_pay_time:0,time:"00:00:00",timer:null}},onLoad:function(e){this.type=e.type,this.id=e.id;var t=1==e.type?"购买藏品":"购买盲盒";this.nameKey=1==e.type?"藏品名称":"盲盒名称",uni.setNavigationBarTitle({title:t})},onUnload:function(){clearTimeout(this.timer)},onShow:function(){this.orderInfo()},onHide:function(){clearTimeout(this.timer)},methods:{backTo:function(e){uni.navigateBack()},handerTime:function(){var e=this.end_pay_time;if(0!=e){this.timer=setTimeout(this.handerTime,1e3);this.status;var t=parseInt((new Date).getTime()/1e3);if(t>=e)clearTimeout(this.timer),this.orderInfo();else{var i=e-t,n=parseInt(i/60/60%24);n=n<10?"0"+n:n;var a=parseInt(i/60%60);a=a<10?"0"+a:a;var o=parseInt(i%60);o=o<10?"0"+o:o,this.time="".concat(n,":").concat(a,":").concat(o)}}},orderInfo:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var i,n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$u.api.orderInfo({id:e.id});case 2:i=t.sent,n=i.order,a=i.order_pay,o=1==e.type?n.product:n.blindbox,e.cover=o.cover,e.name=o.name,e.price=o.price,e.status=n.pay_status,e.statusText=n.pay_status_name,e.payList=a,0==e.status&&e.handerTime();case 13:case"end":return t.stop()}}),t)})))()},changeActive:function(e){this.active=e,this.pay_password=""},submitPayment:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checked){t.next=3;break}return e.$u.toast("请先阅读《商品购买和转售须知》"),t.abrupt("return",!1);case 3:return t.next=5,e.$u.api.orderSellBuy({id:e.id,pay_mode:e.active,pay_password:e.pay_password});case 5:t.sent,clearTimeout(e.timer),e.getProductInfo();case 8:case"end":return t.stop()}}),t)})))()},cancelPayment:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0==e.status){t.next=3;break}return e.$u.toast("该订单已完成,无法取消"),t.abrupt("return");case 3:return t.next=5,e.$u.api.orderSellCancel({id:e.id});case 5:t.sent,e.$u.toast("取消订单成功"),setTimeout((function(){uni.navigateBack()}),1e3);case 8:case"end":return t.stop()}}),t)})))()},routerTo:function(e){uni.navigateTo({url:e})}}};t.default=o},"17fd":function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"uni_box buyCollection"},[n("v-uni-image",{staticClass:"header_img",attrs:{src:e.cover,mode:"widthFix"}}),n("v-uni-view",{staticClass:"explain"},[n("v-uni-view",{staticClass:"item"},[n("v-uni-view",[e._v(e._s(e.nameKey))]),n("v-uni-view",[e._v(e._s(e.name))])],1),n("v-uni-view",{staticClass:"item"},[n("v-uni-view",[e._v("转让价")]),n("v-uni-view",[e._v(e._s(e.price)+" ¥")])],1),n("v-uni-view",{staticClass:"item"},[n("v-uni-view",[e._v("购买技术服务费")]),n("v-uni-view",[e._v("0.00 ¥")])],1),n("v-uni-view",{staticClass:"item"},[n("v-uni-view",[e._v("应付金额")]),n("v-uni-view",[e._v("0.00 ¥")])],1),n("v-uni-view",{staticClass:"item_desc"},[e.checked?n("v-uni-image",{staticClass:"item_img",attrs:{src:i("1cd1")},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.checked=!e.checked}}}):n("v-uni-image",{staticClass:"item_img",attrs:{src:i("8651")},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.checked=!e.checked}}}),n("v-uni-view",[e._v("我已同意并遵守平台")]),n("v-uni-view",{staticClass:"desc",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.routerTo("/pages/setting/article?key=buy")}}},[e._v("《商品购买和转售须知》")])],1)],1),n("v-uni-view",{staticClass:"payment"},[n("v-uni-view",{staticClass:"title"},[e._v("支付方式")]),e._l(e.payList,(function(t,a){return n("v-uni-view",{staticClass:"item",class:[e.active==a?"active":""],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeActive(a)}}},[n("v-uni-view",[e._v(e._s(t))]),e.active==a?n("v-uni-image",{staticClass:"item_img",attrs:{src:i("eb89")}}):n("v-uni-image",{staticClass:"item_img",attrs:{src:i("8651")}})],1)})),3==e.active?n("v-uni-view",[n("v-uni-view",{staticClass:"password"},[e._v("请输入支付密码")]),n("v-uni-input",{staticClass:"password_input",attrs:{type:"text",password:!0,placeholder:"------"},model:{value:e.pay_password,callback:function(t){e.pay_password=t},expression:"pay_password"}})],1):e._e()],2),n("v-uni-view",{staticClass:"footer"},[0==e.status?n("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitPayment.apply(void 0,arguments)}}},[e._v("确认支付("+e._s(e.time)+")")]):n("v-uni-view",[e._v(e._s(e.statusText))]),n("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelPayment.apply(void 0,arguments)}}},[e._v("取消订单")])],1)],1)},o=[]},"1cd1":function(e,t,i){e.exports=i.p+"static/img/wancheng.b6a686ad.svg"},"2c00":function(e,t,i){var n=i("f4be");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("816479d6",n,!0,{sourceMap:!1,shadowMode:!1})},8651:function(e,t,i){e.exports=i.p+"static/img/no_checked.da5b9336.svg"},"9f94":function(e,t,i){"use strict";i.r(t);var n=i("01e2"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},bb52:function(e,t,i){"use strict";var n=i("2c00"),a=i.n(n);a.a},eb89:function(e,t,i){e.exports=i.p+"static/img/checked.07edba16.svg"},f1d9:function(e,t,i){"use strict";i.r(t);var n=i("17fd"),a=i("9f94");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("bb52");var r,c=i("f0c5"),s=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"5d45543c",null,!1,n["a"],r);t["default"]=s.exports},f4be:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"*[data-v-5d45543c]{font-family:Source Han Sans CN-Medium,Source Han Sans CN}.uni_box[data-v-5d45543c]{width:100vw;min-height:100%;background:#f7f8fa}uni-image[data-v-5d45543c]{pointer-events:none}.test[data-v-5d45543c]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.buyCollection[data-v-5d45543c]{padding-bottom:%?200?%;box-sizing:border-box;position:relative}.buyCollection .header_img[data-v-5d45543c]{width:100%}.buyCollection .number_box[data-v-5d45543c]{width:100%;height:%?80?%;text-align:center;border-radius:%?16?%;border:1px solid #eee;padding:0 %?20?%;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center}.buyCollection .number_box .number_img[data-v-5d45543c]{width:%?48?%;height:%?48?%}.buyCollection .number_box .number_input[data-v-5d45543c]{flex:1;text-align:center}.buyCollection .explain[data-v-5d45543c]{padding:%?40?% %?32?%;box-sizing:border-box}.buyCollection .explain .item[data-v-5d45543c]{height:%?80?%;line-height:%?80?%;color:#000;font-size:%?28?%;font-weight:400;display:flex;justify-content:space-between;align-items:center;margin:%?20?% 0}.buyCollection .explain .item_desc[data-v-5d45543c]{height:%?80?%;line-height:%?80?%;color:#000;font-size:%?28?%;font-weight:400;display:flex;align-items:center;margin:%?20?% 0}.buyCollection .explain .item_desc .item_img[data-v-5d45543c]{width:%?48?%;height:%?48?%;margin-right:%?24?%}.buyCollection .explain .item_desc .desc[data-v-5d45543c]{color:#14eaf0}.buyCollection .payment[data-v-5d45543c]{margin-bottom:%?40?%;border-radius:24px;padding:0 %?32?% %?40?%;box-sizing:border-box;background:#fff}.buyCollection .payment .title[data-v-5d45543c]{height:%?80?%;line-height:%?80?%;text-align:center;color:#000;font-size:%?28?%}.buyCollection .payment .item[data-v-5d45543c]{width:100%;height:%?80?%;line-height:%?80?%;color:#000;font-size:%?28?%;font-weight:400;display:flex;justify-content:space-between;align-items:center}.buyCollection .payment .item.active[data-v-5d45543c]{color:#31d3d7}.buyCollection .payment .item .item_img[data-v-5d45543c]{width:%?40?%;height:%?40?%}.buyCollection .password[data-v-5d45543c]{color:#000;font-size:%?28?%;font-weight:400;margin-top:%?40?%;margin-bottom:%?15?%}.buyCollection .password_input[data-v-5d45543c]{width:100%;height:%?80?%;text-align:center;line-height:%?80?%;border-radius:%?16?%;border:1px solid #eee}.buyCollection .footer[data-v-5d45543c]{width:100%;height:%?200?%;padding:%?10?% %?32?%;box-sizing:border-box;background:hsla(0,0%,100%,.9);-webkit-backdrop-filter:blur(%?24?%);backdrop-filter:blur(%?24?%);display:flex;flex-direction:column;justify-content:space-between;position:fixed;left:0;bottom:0;z-index:2}.buyCollection .footer uni-view[data-v-5d45543c]{width:100%;height:%?80?%;line-height:%?80?%;text-align:center;color:#00cace;font-size:14px;border-radius:8px;background:#000}",""]),e.exports=t}}]);