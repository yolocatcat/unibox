(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-setup-setupCollection"],{1531:function(t,e,i){"use strict";var n=i("4ea4");i("99af"),i("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("2909"));i("96cf");var o=n(i("1da1")),l={data:function(){return{type:1,modalShow:!1,page:1,limit:10,last_page:1,status:"loadmore",list:[],id:null,index:0}},onLoad:function(){this.getList()},onReachBottom:function(){this.triggerPage()},methods:{getList:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$u.api.order({status:t.type,page:t.page,limit:t.limit});case 2:i=e.sent,n=i.list,t.list=[].concat((0,a.default)(t.list),(0,a.default)(n.list)),t.last_page=n.last_page,t.last_page==t.page&&(t.status="nomore");case 7:case"end":return e.stop()}}),e)})))()},changeType:function(t){this.type=t,this.list=[],this.page=1,this.status="loadmore",this.getList()},loadmore:function(){this.triggerPage()},triggerPage:function(){var t=this.page,e=this.last_page;t<e&&(this.page++,this.getList())},sellCancel:function(t,e){this.id=t,this.index=e,this.modalShow=!0},orderSellCancel:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$u.api.orderSellCancel({id:t.id});case 2:e.sent,t.$refs.uToast.show({title:"操作成功",type:"success",callback:function(){t.modalShow=!1,t.list.splice(t.index,1)}});case 4:case"end":return e.stop()}}),e)})))()},routerTo:function(t,e){t="".concat(t,"?id=").concat(e),uni.navigateTo({url:t})}}};e.default=l},1837:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"*[data-v-d7c866a0]{font-family:Source Han Sans CN-Medium,Source Han Sans CN}.uni_box[data-v-d7c866a0]{width:100vw;min-height:100%;background:#f7f8fa}uni-image[data-v-d7c866a0]{pointer-events:none}.test[data-v-d7c866a0]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.u-model[data-v-d7c866a0]{height:auto;overflow:hidden;font-size:%?32?%;background-color:#fff}.u-model__btn--hover[data-v-d7c866a0]{background-color:#e6e6e6}.u-model__title[data-v-d7c866a0]{padding-top:%?48?%;font-weight:500;text-align:center;color:#303133}.u-model__content__message[data-v-d7c866a0]{padding:%?48?%;font-size:%?30?%;text-align:center;color:#606266}.u-model__footer[data-v-d7c866a0]{display:flex;flex-direction:row}.u-model__footer__button[data-v-d7c866a0]{flex:1;height:%?100?%;line-height:%?100?%;font-size:%?32?%;box-sizing:border-box;cursor:pointer;text-align:center;border-radius:%?4?%}",""]),t.exports=e},3963:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uPopup:i("ad8a").default,uLoading:i("e9f4").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("u-popup",{attrs:{zoom:t.zoom,mode:"center",popup:!1,"z-index":t.uZIndex,length:t.width,"mask-close-able":t.maskCloseAble,"border-radius":t.borderRadius,"negative-top":t.negativeTop},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.popupClose.apply(void 0,arguments)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[i("v-uni-view",{staticClass:"u-model"},[t.showTitle?i("v-uni-view",{staticClass:"u-model__title u-line-1",style:[t.titleStyle]},[t._v(t._s(t.title))]):t._e(),i("v-uni-view",{staticClass:"u-model__content"},[t.$slots.default||t.$slots.$default?i("v-uni-view",{style:[t.contentStyle]},[t._t("default")],2):i("v-uni-view",{staticClass:"u-model__content__message",style:[t.contentStyle]},[t._v(t._s(t.content))])],1),t.showCancelButton||t.showConfirmButton?i("v-uni-view",{staticClass:"u-model__footer u-border-top"},[t.showCancelButton?i("v-uni-view",{staticClass:"u-model__footer__button",style:[t.cancelBtnStyle],attrs:{"hover-stay-time":100,"hover-class":"u-model__btn--hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[t._v(t._s(t.cancelText))]):t._e(),t.showConfirmButton||t.$slots["confirm-button"]?i("v-uni-view",{staticClass:"u-model__footer__button hairline-left",style:[t.confirmBtnStyle],attrs:{"hover-stay-time":100,"hover-class":t.asyncClose?"none":"u-model__btn--hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t.$slots["confirm-button"]?t._t("confirm-button"):[t.loading?i("u-loading",{attrs:{mode:"circle",color:t.confirmColor}}):[t._v(t._s(t.confirmText))]]],2):t._e()],1):t._e()],1)],1)],1)},o=[]},"403f":function(t,e,i){var n=i("f87e");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("c419a694",n,!0,{sourceMap:!1,shadowMode:!1})},4051:function(t,e,i){"use strict";i.r(e);var n=i("d75d"),a=i("a718");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("d219");var l,s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"5887e914",null,!1,n["a"],l);e["default"]=r.exports},"447f":function(t,e,i){var n=i("1837");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("1c0879ec",n,!0,{sourceMap:!1,shadowMode:!1})},"501a":function(t,e,i){"use strict";i.r(e);var n=i("1531"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"52ca":function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"u-modal",props:{value:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:""},title:{type:[String],default:"提示"},width:{type:[Number,String],default:600},content:{type:String,default:"内容"},showTitle:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!1},confirmText:{type:String,default:"确认"},cancelText:{type:String,default:"取消"},confirmColor:{type:String,default:"#2979ff"},cancelColor:{type:String,default:"#606266"},borderRadius:{type:[Number,String],default:16},titleStyle:{type:Object,default:function(){return{}}},contentStyle:{type:Object,default:function(){return{}}},cancelStyle:{type:Object,default:function(){return{}}},confirmStyle:{type:Object,default:function(){return{}}},zoom:{type:Boolean,default:!0},asyncClose:{type:Boolean,default:!1},maskCloseAble:{type:Boolean,default:!1},negativeTop:{type:[String,Number],default:0}},data:function(){return{loading:!1}},computed:{cancelBtnStyle:function(){return Object.assign({color:this.cancelColor},this.cancelStyle)},confirmBtnStyle:function(){return Object.assign({color:this.confirmColor},this.confirmStyle)},uZIndex:function(){return this.zIndex?this.zIndex:this.$u.zIndex.popup}},watch:{value:function(t){!0===t&&(this.loading=!1)}},methods:{confirm:function(){this.asyncClose?this.loading=!0:this.$emit("input",!1),this.$emit("confirm")},cancel:function(){var t=this;this.$emit("cancel"),this.$emit("input",!1),setTimeout((function(){t.loading=!1}),300)},popupClose:function(){this.$emit("input",!1)},clearLoading:function(){this.loading=!1}}};e.default=n},6520:function(t,e,i){"use strict";i.r(e);var n=i("9b41"),a=i("501a");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("b086");var l,s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"2f8053aa",null,!1,n["a"],l);e["default"]=r.exports},7917:function(t,e,i){t.exports=i.p+"static/img/test1.97e1a5a4.png"},"9b41":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uLoadmore:i("6c4f").default,uModal:i("c8f9").default,uToast:i("4051").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni_box myCollection"},[n("v-uni-view",{staticClass:"title"},[n("v-uni-view",{staticClass:"item",class:[1==t.type?"active":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeType(1)}}},[t._v("已收藏")]),n("v-uni-view",{staticClass:"item",class:[11==t.type?"active":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeType(11)}}},[t._v("出售中")]),n("v-uni-view",{staticClass:"item",class:[10==t.type?"active":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeType(10)}}},[t._v("已交易")])],1),n("v-uni-view",{staticClass:"list"},[t._l(t.list,(function(e,i){return n("v-uni-view",{staticClass:"item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.routerTo("../my/collectionDeta",e.id)}}},[n("v-uni-view",{staticClass:"item_box"},[n("v-uni-image",{staticClass:"item_img",attrs:{src:e.product.cover}}),n("v-uni-view",{staticClass:"deta"},[n("v-uni-view",{staticClass:"name"},[t._v(t._s(e.product.name))]),n("v-uni-view",{staticClass:"code"},[n("v-uni-view",[t._v("创作者："+t._s(e.product.author))]),n("v-uni-view",[t._v("编号："+t._s(e.product_number.number))])],1),n("v-uni-view",{staticClass:"btn"},[n("v-uni-view",{staticClass:"number"},[t._v(t._s(e.product.price)+"¥")]),1==t.type?n("v-uni-view",{staticClass:"btn_box"},[n("v-uni-view",{staticClass:"btn_view",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.routerTo("../setup/sell",e.id)}}},[t._v("出售")]),n("v-uni-view",{staticClass:"btn_view",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.routerTo("../setup/give",e.id)}}},[t._v("转赠")])],1):11==t.type?n("v-uni-view",{staticClass:"btn_cancel",on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.sellCancel(e.id,i)}}},[t._v("取消出售")]):n("v-uni-view",{staticClass:"btn_time"},[t._v(t._s(e.created_at))])],1)],1)],1)],1)})),n("u-loadmore",{attrs:{status:t.status,loadText:t.$store.state.loadText},on:{loadmore:function(e){arguments[0]=e=t.$handleEvent(e),t.loadmore.apply(void 0,arguments)}}}),n("u-modal",{attrs:{"show-title":!1,"show-confirm-button":!1,"show-cancel-button":!1},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[n("v-uni-view",{staticClass:"modal"},[n("v-uni-image",{staticClass:"modal_img",attrs:{src:i("7917")}}),n("v-uni-view",{staticClass:"modal_tips"},[t._v("您确认要停止售卖并下架以下商品吗？")]),n("v-uni-view",{staticClass:"modal_btn"},[n("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.modalShow=!1}}},[t._v("我再想想")]),n("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.orderSellCancel.apply(void 0,arguments)}}},[t._v("确定下架")])],1)],1)],1),n("u-toast",{ref:"uToast"})],2)],1)},o=[]},a718:function(t,e,i){"use strict";i.r(e);var n=i("afd2"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},ae3b:function(t,e,i){var n=i("b171");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("59464855",n,!0,{sourceMap:!1,shadowMode:!1})},afd2:function(t,e,i){"use strict";i("c975"),i("a9e3"),i("b64b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"u-toast",props:{zIndex:{type:[Number,String],default:""}},data:function(){return{isShow:!1,timer:null,config:{params:{},title:"",type:"",duration:2e3,isTab:!1,url:"",icon:!0,position:"center",callback:null,back:!1},tmpConfig:{}}},computed:{iconName:function(){if(["error","warning","success","info"].indexOf(this.tmpConfig.type)>=0&&this.tmpConfig.icon){var t=this.$u.type2icon(this.tmpConfig.type);return t}},uZIndex:function(){return this.isShow?this.zIndex?this.zIndex:this.$u.zIndex.toast:"999999"}},methods:{show:function(t){var e=this;this.tmpConfig=this.$u.deepMerge(this.config,t),this.timer&&(clearTimeout(this.timer),this.timer=null),this.isShow=!0,this.timer=setTimeout((function(){e.isShow=!1,clearTimeout(e.timer),e.timer=null,"function"===typeof e.tmpConfig.callback&&e.tmpConfig.callback(),e.timeEnd()}),this.tmpConfig.duration)},hide:function(){this.isShow=!1,this.timer&&(clearTimeout(this.timer),this.timer=null)},timeEnd:function(){if(this.tmpConfig.url){if("/"!=this.tmpConfig.url[0]&&(this.tmpConfig.url="/"+this.tmpConfig.url),Object.keys(this.tmpConfig.params).length){var t="";/.*\/.*\?.*=.*/.test(this.tmpConfig.url)?(t=this.$u.queryParams(this.tmpConfig.params,!1),this.tmpConfig.url=this.tmpConfig.url+"&"+t):(t=this.$u.queryParams(this.tmpConfig.params),this.tmpConfig.url+=t)}this.tmpConfig.isTab?uni.switchTab({url:this.tmpConfig.url}):uni.navigateTo({url:this.tmpConfig.url})}else this.tmpConfig.back&&this.$u.route({type:"back"})}}};e.default=n},b086:function(t,e,i){"use strict";var n=i("ae3b"),a=i.n(n);a.a},b171:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"*[data-v-2f8053aa]{font-family:Source Han Sans CN-Medium,Source Han Sans CN}.uni_box[data-v-2f8053aa]{width:100vw;min-height:100%;background:#f7f8fa}uni-image[data-v-2f8053aa]{pointer-events:none}.test[data-v-2f8053aa]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.myCollection[data-v-2f8053aa]{padding:%?64?% 0}.myCollection .title[data-v-2f8053aa]{width:100%;height:%?64?%;line-height:%?64?%;display:flex;justify-content:space-between;position:fixed;left:0;top:var(--window-top);z-index:999;background:#f7f8fa}.myCollection .title .item[data-v-2f8053aa]{flex:1;text-align:center;color:#000;font-size:%?24?%;font-weight:400}.myCollection .title .item.active[data-v-2f8053aa]{color:#14eaf0}.myCollection .list[data-v-2f8053aa]{padding:0 %?30?%;box-sizing:border-box;overflow:hidden}.myCollection .list .item[data-v-2f8053aa]{width:100%;height:%?690?%;border-radius:%?48?%;overflow:hidden;margin-top:%?30?%}.myCollection .list .item .item_box[data-v-2f8053aa]{width:100%;height:100%;border-radius:24px;overflow:hidden;position:relative}.myCollection .list .item .item_box .item_img[data-v-2f8053aa]{width:100%;height:100%}.myCollection .list .item .item_box .deta[data-v-2f8053aa]{width:100%;height:%?220?%;padding:%?30?%;box-sizing:border-box;background:linear-gradient(136deg,#17171b,rgba(23,23,27,0));display:flex;flex-direction:column;justify-content:space-between;position:absolute;left:0;bottom:0;z-index:2}.myCollection .list .item .item_box .deta .name[data-v-2f8053aa]{color:#fff;font-size:%?40?%}.myCollection .list .item .item_box .deta .code[data-v-2f8053aa]{color:#fff;font-size:%?24?%;font-weight:400;display:flex}.myCollection .list .item .item_box .deta .code uni-view[data-v-2f8053aa]{margin-right:%?24?%}.myCollection .list .item .item_box .deta .btn[data-v-2f8053aa]{height:%?64?%;line-height:%?64?%;display:flex;justify-content:space-between}.myCollection .list .item .item_box .deta .btn .number[data-v-2f8053aa]{color:#fff;font-size:%?40?%;font-weight:700}.myCollection .list .item .item_box .deta .btn .btn_box[data-v-2f8053aa]{display:flex}.myCollection .list .item .item_box .deta .btn .btn_box .btn_view[data-v-2f8053aa]{width:%?190?%;text-align:center;color:#00cace;font-size:%?28?%;background:#000;border-radius:%?16?%}.myCollection .list .item .item_box .deta .btn .btn_box .btn_view[data-v-2f8053aa]:last-child{margin-left:%?25?%}.myCollection .list .item .item_box .deta .btn .btn_cancel[data-v-2f8053aa]{width:%?300?%;height:%?64?%;line-height:%?64?%;text-align:center;color:#00cace;font-size:%?28?%;background:#000;border-radius:%?16?%}.myCollection .list .item .item_box .deta .btn .btn_time[data-v-2f8053aa]{color:#fff;font-size:%?24?%;font-weight:400}.myCollection .modal[data-v-2f8053aa]{padding:%?80?% %?40?%;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center}.myCollection .modal .modal_img[data-v-2f8053aa]{width:%?360?%;height:%?360?%;margin:0 auto}.myCollection .modal .modal_tips[data-v-2f8053aa]{color:#000;font-size:%?28?%;font-weight:400;text-align:center;margin:%?40?% 0}.myCollection .modal .modal_btn[data-v-2f8053aa]{display:flex;justify-content:space-between}.myCollection .modal .modal_btn .btn[data-v-2f8053aa]{width:%?220?%;height:%?80?%;line-height:%?80?%;text-align:center;color:#00cace;font-size:%?28?%;border-radius:8px}.myCollection .modal .modal_btn .btn[data-v-2f8053aa]:first-child{border:1px solid #00cace}.myCollection .modal .modal_btn .btn[data-v-2f8053aa]:last-child{background:#000;border:1px solid #000}",""]),t.exports=e},c8f9:function(t,e,i){"use strict";i.r(e);var n=i("3963"),a=i("d5e2");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("e049");var l,s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"d7c866a0",null,!1,n["a"],l);e["default"]=r.exports},d219:function(t,e,i){"use strict";var n=i("403f"),a=i.n(n);a.a},d5e2:function(t,e,i){"use strict";i.r(e);var n=i("52ca"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},d75d:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uIcon:i("c559").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"u-toast",class:[t.isShow?"u-show":"","u-type-"+t.tmpConfig.type,"u-position-"+t.tmpConfig.position],style:{zIndex:t.uZIndex}},[i("v-uni-view",{staticClass:"u-icon-wrap"},[t.tmpConfig.icon?i("u-icon",{staticClass:"u-icon",attrs:{name:t.iconName,size:30,color:t.tmpConfig.type}}):t._e()],1),i("v-uni-text",{staticClass:"u-text"},[t._v(t._s(t.tmpConfig.title))])],1)},o=[]},e049:function(t,e,i){"use strict";var n=i("447f"),a=i.n(n);a.a},f87e:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"*[data-v-5887e914]{font-family:Source Han Sans CN-Medium,Source Han Sans CN}.uni_box[data-v-5887e914]{width:100vw;min-height:100%;background:#f7f8fa}uni-image[data-v-5887e914]{pointer-events:none}.test[data-v-5887e914]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.u-toast[data-v-5887e914]{position:fixed;z-index:-1;transition:opacity .3s;text-align:center;color:#fff;border-radius:%?8?%;background:#585858;display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:%?28?%;opacity:0;pointer-events:none;padding:%?18?% %?40?%}.u-toast.u-show[data-v-5887e914]{opacity:1}.u-icon[data-v-5887e914]{margin-right:%?10?%;display:flex;flex-direction:row;align-items:center;line-height:normal}.u-position-center[data-v-5887e914]{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);max-width:70%}.u-position-top[data-v-5887e914]{left:50%;top:20%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.u-position-bottom[data-v-5887e914]{left:50%;bottom:20%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.u-type-primary[data-v-5887e914]{color:#2979ff;background-color:#ecf5ff;border:1px solid #d7eafe}.u-type-success[data-v-5887e914]{color:#19be6b;background-color:#dbf1e1;border:1px solid #bef5c8}.u-type-error[data-v-5887e914]{color:#fa3534;background-color:#fef0f0;border:1px solid #fde2e2}.u-type-warning[data-v-5887e914]{color:#f90;background-color:#fdf6ec;border:1px solid #faecd8}.u-type-info[data-v-5887e914]{color:#909399;background-color:#f4f4f5;border:1px solid #ebeef5}.u-type-default[data-v-5887e914]{color:#fff;background-color:#585858}",""]),t.exports=e}}]);