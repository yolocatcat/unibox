(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-mergeCore"],{"1cd1":function(e,t,i){e.exports=i.p+"static/img/wancheng.b6a686ad.svg"},"226e":function(e,t,i){"use strict";var n=i("ebc6"),o=i.n(n);o.a},2909:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=s(i("6005")),o=s(i("db90")),a=s(i("06c5")),r=s(i("3427"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return(0,n.default)(e)||(0,o.default)(e)||(0,a.default)(e)||(0,r.default)()}},"2ab1":function(e,t,i){"use strict";i.r(t);var n=i("78be"),o=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},3427:function(e,t,i){"use strict";function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},"403f":function(e,t,i){var n=i("f87e");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("c419a694",n,!0,{sourceMap:!1,shadowMode:!1})},4051:function(e,t,i){"use strict";i.r(t);var n=i("d75d"),o=i("a718");for(var a in o)"default"!==a&&function(e){i.d(t,e,(function(){return o[e]}))}(a);i("d219");var r,s=i("f0c5"),u=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"5887e914",null,!1,n["a"],r);t["default"]=u.exports},"5a48":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"*[data-v-22631ba3]{font-family:Source Han Sans CN-Medium,Source Han Sans CN}.uni_box[data-v-22631ba3]{width:100vw;min-height:100%;background:#f7f8fa}uni-image[data-v-22631ba3]{pointer-events:none}.test[data-v-22631ba3]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mergeCore[data-v-22631ba3]{padding:%?92?% %?32?% %?120?%;box-sizing:border-box}.mergeCore .title[data-v-22631ba3]{width:100%;height:%?60?%;line-height:%?60?%;text-align:center;color:#000;font-size:%?24?%;font-weight:400;padding:0 %?32?%;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;position:fixed;left:0;top:var(--window-top);z-index:999;background:#f7f8fa}.mergeCore .title uni-view[data-v-22631ba3]{text-decoration:underline}.mergeCore .list[data-v-22631ba3]{box-sizing:border-box;display:flex;justify-content:space-between;flex-wrap:wrap}.mergeCore .list .item[data-v-22631ba3]{width:%?320?%;margin-top:%?20?%}.mergeCore .list .item .img_box[data-v-22631ba3]{width:%?320?%;height:%?320?%;position:relative;border-radius:16px;background:#eee;overflow:hidden;display:flex;justify-content:center;align-items:center}.mergeCore .list .item .img_box .item_img[data-v-22631ba3]{width:100%;height:100%}.mergeCore .list .item .img_box .more_img[data-v-22631ba3]{width:%?48?%;height:%?48?%}.mergeCore .list .item .img_box .img_text[data-v-22631ba3]{width:100%;height:%?60?%;line-height:%?60?%;color:#fff;font-size:%?24?%;padding:0 %?16?%;box-sizing:border-box;background:linear-gradient(136deg,#17171b,rgba(23,23,27,0));display:flex;justify-content:space-between;position:absolute;left:0;bottom:0}.mergeCore .list .item .name[data-v-22631ba3]{width:100%;height:%?80?%;line-height:%?60?%;text-align:center;color:#000;font-size:%?32?%}.mergeCore .list .add_item[data-v-22631ba3]{width:%?330?%;height:%?394?%}.mergeCore .list .add_item .img_box[data-v-22631ba3]{width:%?330?%;height:%?330?%;background:#eee;border-radius:%?32?%;display:flex;justify-content:center;align-items:center}.mergeCore .list .add_item .img_box .more_img[data-v-22631ba3]{width:%?48?%;height:%?48?%}.mergeCore .footer[data-v-22631ba3]{width:100%;height:%?120?%;padding:%?0?% %?32?%;box-sizing:border-box;background:hsla(0,0%,100%,.9);-webkit-backdrop-filter:blur(%?24?%);backdrop-filter:blur(%?24?%);display:flex;justify-content:flex-end;align-items:center;position:fixed;left:0;bottom:0;z-index:2}.mergeCore .footer .footer_btn[data-v-22631ba3]{width:%?184?%;height:%?80?%;line-height:%?80?%;text-align:center;color:#00cace;font-size:%?28?%;border-radius:%?16?%;background:#000}.mergeCore .popup_box[data-v-22631ba3]{padding:0 %?32?% %?40?%;box-sizing:border-box;overflow:hidden}.mergeCore .popup_box .popup_box_title[data-v-22631ba3]{height:%?112?%;line-height:%?112?%;display:flex;justify-content:space-between;align-items:center}.mergeCore .popup_box .popup_box_title .name[data-v-22631ba3]{font-size:%?32?%;color:#000}.mergeCore .popup_box .popup_box_title .title_img[data-v-22631ba3]{width:%?40?%;height:%?40?%}.mergeCore .popup_box .popup_list[data-v-22631ba3]{padding:%?40?% 0;box-sizing:border-box;white-space:nowrap}.mergeCore .popup_box .popup_list .item[data-v-22631ba3]{display:inline-block;width:%?240?%;margin:0 %?20?%}.mergeCore .popup_box .popup_list .item .item_img[data-v-22631ba3]{width:%?240?%;height:%?240?%;border-radius:%?32?%}.mergeCore .popup_box .popup_list .item .choice[data-v-22631ba3]{width:100%;height:%?48?%;line-height:%?48?%;display:flex;justify-content:center;align-items:center;margin-top:%?16?%}.mergeCore .popup_box .popup_list .item .choice .choice_img[data-v-22631ba3]{width:%?40?%;height:%?40?%}.mergeCore .popup_box .popup_list .item .choice .choice_name[data-v-22631ba3]{color:#000;font-size:%?32?%;margin-left:%?20?%}.mergeCore .popup_box .btn[data-v-22631ba3]{width:100%;height:%?80?%;line-height:%?80?%;text-align:center;color:#00cace;font-size:%?28?%;border-radius:8px;background:#000}",""]),e.exports=t},"5f63":function(e,t,i){"use strict";i.r(t);var n=i("aad0"),o=i("2ab1");for(var a in o)"default"!==a&&function(e){i.d(t,e,(function(){return o[e]}))}(a);i("226e");var r,s=i("f0c5"),u=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"22631ba3",null,!1,n["a"],r);t["default"]=u.exports},6005:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=o(i("6b75"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e))return(0,n.default)(e)}},"78be":function(e,t,i){"use strict";var n=i("4ea4");i("99af"),i("7db0"),i("4160"),i("c975"),i("a434"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("2909"));i("96cf");var a=n(i("1da1")),r={data:function(){return{id:null,dataList:[],popupList:[],popupShow:!1,popupIndex:[]}},onLoad:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function i(){var n,o,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.id=e.id,i.next=3,t.$u.api.composeInfo({id:t.id});case 3:n=i.sent,o=n.data.need,a=[],o.forEach((function(e){a.push({cover:e.product.cover,id:e.product.id,name:e.product.name,total:e.number,number:0,popupIndex:[]})})),t.dataList=a;case 8:case"end":return i.stop()}}),i)})))()},methods:{choiceClick:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function i(){var n,o,a,r,s,u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$u.api.order({page:1,limit:999999999,front_type:1,status:1});case 2:n=i.sent,o=n.list,a=o.list,r=[],a.forEach((function(t){var i;e==(null===(i=t.product)||void 0===i?void 0:i.id)&&r.push({pid:e,id:t.id,name:t.product.name,cover:t.product.cover})})),t.popupList=r,t.popupShow=!0,s=t.dataList,u=s.find((function(t){return t.id==e})),t.popupIndex=u.popupIndex,u.number=u.popupIndex.length;case 13:case"end":return i.stop()}}),i)})))()},changePopupIndex:function(e,t){var i=this.dataList,n=i.find((function(t){return t.id==e})),o=n.total,a=n.popupIndex,r=a.indexOf(t);r>-1?a.splice(r,1):a.push(t),this.popupIndex=a,a.length>o&&(a.splice(a.length-1,1),this.$refs.uToast.show({title:"选择上限",type:"error"})),n.number=a.length},determine:function(){this.popupShow=!1},composeOperate:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.dataList,n=[],i.forEach((function(e){n=[].concat((0,o.default)(n),(0,o.default)(e.popupIndex))})),t.next=5,e.$u.api.composeOperate({id:e.id,order_ids:n});case 5:t.sent,e.$u.toast("合成成功"),setTimeout((function(){uni.switchTab({url:"/pages/tabbar/my"})}),1e3);case 8:case"end":return t.stop()}}),t)})))()},routerTo:function(e){uni.navigateTo({url:e})}}};t.default=r},8651:function(e,t,i){e.exports=i.p+"static/img/no_checked.da5b9336.svg"},a718:function(e,t,i){"use strict";i.r(t);var n=i("afd2"),o=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},aad0:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var n={uPopup:i("ad8a").default,uToast:i("4051").default},o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"uni_box mergeCore"},[n("v-uni-view",{staticClass:"title"},[n("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.routerTo("/pages/my/mergeRecord")}}},[e._v("合成记录")]),n("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.routerTo("/pages/my/mergeRule?id="+e.id)}}},[e._v("活动规则")]),n("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.routerTo("/pages/my/myCollection")}}},[e._v("我的藏品")])],1),n("v-uni-view",{staticClass:"list"},e._l(e.dataList,(function(t){return n("v-uni-view",{staticClass:"item"},[n("v-uni-view",{staticClass:"img_box",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.choiceClick(t.id)}}},[t.number>0?n("v-uni-image",{staticClass:"item_img",attrs:{src:t.cover}}):n("v-uni-image",{staticClass:"more_img",attrs:{src:i("b01b")}}),t.number>0?n("v-uni-view",{staticClass:"img_text"},[n("v-uni-view",[e._v(e._s(t.number)+"/"+e._s(t.total))]),n("v-uni-view",{on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.choiceClick(t.id)}}},[e._v("选择")])],1):e._e()],1),t.number>0?n("v-uni-view",{staticClass:"name"},[e._v(e._s(t.name))]):e._e()],1)})),1),n("v-uni-view",{staticClass:"footer"},[n("v-uni-view",{staticClass:"footer_btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.composeOperate.apply(void 0,arguments)}}},[e._v("点击合成")])],1),n("u-popup",{attrs:{mode:"bottom","border-radius":32},model:{value:e.popupShow,callback:function(t){e.popupShow=t},expression:"popupShow"}},[n("v-uni-view",{staticClass:"popup_box"},[n("v-uni-view",{staticClass:"popup_box_title"},[n("v-uni-view",{staticClass:"name"},[e._v("选择合成材料")]),n("v-uni-image",{staticClass:"title_img",attrs:{src:i("c9d7")},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.popupShow=!1}}})],1),n("v-uni-scroll-view",{staticClass:"popup_list",attrs:{"scroll-x":!0}},e._l(e.popupList,(function(t,o){return n("v-uni-view",{staticClass:"item",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.changePopupIndex(t.pid,t.id)}}},[n("v-uni-image",{staticClass:"item_img",attrs:{src:t.cover}}),n("v-uni-view",{staticClass:"choice"},[e.popupIndex.includes(t.id)?n("v-uni-image",{staticClass:"choice_img",attrs:{src:i("1cd1")}}):n("v-uni-image",{staticClass:"choice_img",attrs:{src:i("8651")}}),n("v-uni-view",{staticClass:"choice_name"},[e._v(e._s(t.name))])],1)],1)})),1),n("v-uni-view",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.determine.apply(void 0,arguments)}}},[e._v("确定")])],1)],1),n("u-toast",{ref:"uToast"})],1)},a=[]},afd2:function(e,t,i){"use strict";i("c975"),i("a9e3"),i("b64b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"u-toast",props:{zIndex:{type:[Number,String],default:""}},data:function(){return{isShow:!1,timer:null,config:{params:{},title:"",type:"",duration:2e3,isTab:!1,url:"",icon:!0,position:"center",callback:null,back:!1},tmpConfig:{}}},computed:{iconName:function(){if(["error","warning","success","info"].indexOf(this.tmpConfig.type)>=0&&this.tmpConfig.icon){var e=this.$u.type2icon(this.tmpConfig.type);return e}},uZIndex:function(){return this.isShow?this.zIndex?this.zIndex:this.$u.zIndex.toast:"999999"}},methods:{show:function(e){var t=this;this.tmpConfig=this.$u.deepMerge(this.config,e),this.timer&&(clearTimeout(this.timer),this.timer=null),this.isShow=!0,this.timer=setTimeout((function(){t.isShow=!1,clearTimeout(t.timer),t.timer=null,"function"===typeof t.tmpConfig.callback&&t.tmpConfig.callback(),t.timeEnd()}),this.tmpConfig.duration)},hide:function(){this.isShow=!1,this.timer&&(clearTimeout(this.timer),this.timer=null)},timeEnd:function(){if(this.tmpConfig.url){if("/"!=this.tmpConfig.url[0]&&(this.tmpConfig.url="/"+this.tmpConfig.url),Object.keys(this.tmpConfig.params).length){var e="";/.*\/.*\?.*=.*/.test(this.tmpConfig.url)?(e=this.$u.queryParams(this.tmpConfig.params,!1),this.tmpConfig.url=this.tmpConfig.url+"&"+e):(e=this.$u.queryParams(this.tmpConfig.params),this.tmpConfig.url+=e)}this.tmpConfig.isTab?uni.switchTab({url:this.tmpConfig.url}):uni.navigateTo({url:this.tmpConfig.url})}else this.tmpConfig.back&&this.$u.route({type:"back"})}}};t.default=n},b01b:function(e,t,i){e.exports=i.p+"static/img/more.41e8e715.svg"},c9d7:function(e,t,i){e.exports=i.p+"static/img/x_circle.3413120a.svg"},d219:function(e,t,i){"use strict";var n=i("403f"),o=i.n(n);o.a},d75d:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var n={uIcon:i("c559").default},o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"u-toast",class:[e.isShow?"u-show":"","u-type-"+e.tmpConfig.type,"u-position-"+e.tmpConfig.position],style:{zIndex:e.uZIndex}},[i("v-uni-view",{staticClass:"u-icon-wrap"},[e.tmpConfig.icon?i("u-icon",{staticClass:"u-icon",attrs:{name:e.iconName,size:30,color:e.tmpConfig.type}}):e._e()],1),i("v-uni-text",{staticClass:"u-text"},[e._v(e._s(e.tmpConfig.title))])],1)},a=[]},db90:function(e,t,i){"use strict";function n(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},ebc6:function(e,t,i){var n=i("5a48");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("392bf83e",n,!0,{sourceMap:!1,shadowMode:!1})},f87e:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"*[data-v-5887e914]{font-family:Source Han Sans CN-Medium,Source Han Sans CN}.uni_box[data-v-5887e914]{width:100vw;min-height:100%;background:#f7f8fa}uni-image[data-v-5887e914]{pointer-events:none}.test[data-v-5887e914]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.u-toast[data-v-5887e914]{position:fixed;z-index:-1;transition:opacity .3s;text-align:center;color:#fff;border-radius:%?8?%;background:#585858;display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:%?28?%;opacity:0;pointer-events:none;padding:%?18?% %?40?%}.u-toast.u-show[data-v-5887e914]{opacity:1}.u-icon[data-v-5887e914]{margin-right:%?10?%;display:flex;flex-direction:row;align-items:center;line-height:normal}.u-position-center[data-v-5887e914]{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);max-width:70%}.u-position-top[data-v-5887e914]{left:50%;top:20%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.u-position-bottom[data-v-5887e914]{left:50%;bottom:20%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.u-type-primary[data-v-5887e914]{color:#2979ff;background-color:#ecf5ff;border:1px solid #d7eafe}.u-type-success[data-v-5887e914]{color:#19be6b;background-color:#dbf1e1;border:1px solid #bef5c8}.u-type-error[data-v-5887e914]{color:#fa3534;background-color:#fef0f0;border:1px solid #fde2e2}.u-type-warning[data-v-5887e914]{color:#f90;background-color:#fdf6ec;border:1px solid #faecd8}.u-type-info[data-v-5887e914]{color:#909399;background-color:#f4f4f5;border:1px solid #ebeef5}.u-type-default[data-v-5887e914]{color:#fff;background-color:#585858}",""]),e.exports=t}}]);